---
title: Base64从入门到入门
tags: [Base64, 计算机基础]
categories:
  - 学习笔记
date: 2023-03-24 14:16:24
image:
---







## 位、字节、字

#### 定义

位（bits，比特）、字节（Bytes）、字（words）是计算机数据存储的单位。位是最小的存储单位，每一个位存储一个1位的二进制码，一个字节由8位组成。而字通常为16、32或64个位组成。

- 位：二进制码 0或者1

- 字节：字节是由八个位组成的一个单元，也就是8个bit组成1个Byte

- 字符：字（Word）代表计算机处理指令或数据的二进制数位数，是计算机进行数据存储和数据处理的运算的单位。比如中文汉字、英文字母、阿拉伯数字等等。它是一个运算单位，但不是基础单位，计算机中最基本的单位还是位。

> 对于32位计算机与64位计算机，字的大小往往不同。
> 32位计算机：1字=32位=4字节，64位计算机：1字=64位=8字节。



##### 扩展：

这里的32位与64位又是什么意思呢？它指的是计算机芯片一次处理的指令长度。

计算机组成原理可以得知冯诺依曼计算机结构：

①有运算器、控制器、存储器、输入、输出五大部分组成。

②指令和数据用二进制表示，两者形式上没有差别。

③指令和数据存放在存储器中，按地址访问。

④指令由操作码和地址码组成，操作码指定操作性质，地址码指定操作数地址。

⑤采用“存储程序控制”方式进行工作。

所以，这里的32位与64位指的就是CPU运算器一次处理的指令长度为32位或者64位二进制码



那么在第1步的时候又会出现一些疑问，比如从各种不同的字符怎么得到它的二进制呢？

这里就要说到字符集、字符编码方式



## 字符集、字符编码

#### 字符集

什么是字符集，就是字符的集合。那为什么要有字符集，为了使用计算机。

我们知道最最最开始的计算机是通过纸带打孔作为计算机的输入，但后来我们要用键盘打字啦，可是你计算机处理的是0101010101这样的二进制码，我键盘敲出来的是abcd这样的字母，这怎么办呢，所以为了能够使用计算机，就要有一套字符集。

比如最开始的ASCII字符集，中文叫美国信息交换标准代码，英文叫American Standard Code for Information Interchange，缩写就是ASCII。

它是怎么表示的呢，它使用一个字节也就是8位二进制数来表示一个字符，其中前七位表示具体，最高位第八位固定0，那从00000000 - 01111111对应十进制也就是0 - 127一共包含了128个字符，编码从0到127，包含了所有的大写和小写字母，数字0 到9、标点符号，以及在美式英语中使用的特殊控制字符。这样，二进制跟我们实际使用的字符就对应起来了。

其中：
0～31及127(共33个)是控制字符或通信专用字符（其余为可显示字符），如控制符：LF(换行)、CR(回车)、FF(换页)、DEL(删除)、BS(退格)等等，通信专用字符：SOH（文头）、EOT（文尾）、ACK（确认）等

32-47是标点符号 

48-57是阿拉伯数字0-9

58-64是标点符号 

65-90是大写字符A-Z

91-96是标点符号

97-122是小写字母a-z

123-126是标点符号

（具体可参考ASCII表）

在英语体系中，这些字符就已经够用了，但是对于欧洲来说，还不够，欧洲语言体系众多法语希伯来语什么αβ还有字母上面带音标的é，所以他们又在ASCII基础上，把最高位那个0给利用起来了，这样从00000000 - 11111111 对应十进制也就是 0 - 255，一共256个字符。

但是对应亚洲比如中文，这256个字符又不够了，中文汉字那么多，常见的汉字就有三千左右，完整的更是有上万，还分简体繁体。所以原中国国家标准总局1981年5月1日发布实施了一个GB2312字符集，然后后来又经过几版更新迭代，比如GBK GB18030-2000 GB18030-2005。但这只解决了中文语言环境使用计算机的问题，当跨语言跨平台的时候，不同字符集之间又会出现“语言不通”的问题。

于是，Unicode出现了。Unicode又称万国码，中文叫通用多八位编码字符集，英文叫Universal Multiple-Octet Coded Character Set。是由一个名为 Unicode 学术学会(Unicode Consortium)的机构制订的字符编码系统，支持现今世界各种不同语言的书面文本的交换、处理及显示。该编码于1990年开始研发，1992年公布1.0.1，最新版本是2020年3月Unicode 13.0.0。

它为每种语言中的每个字符设定了统一并且唯一的二进制编码，以满足跨语言、跨平台进行文本转换、处理的要求。

Unicode 标准始终使用十六进制数字，从0到10ffff(十六进制)范围内共1114112个码位的代码空间，而且在书写时在前面加上前缀“U+”，例如字母“A”的编码为 0x0041 和字符“€”的编码为 0x20AC，所以“A”、“€”的编码书写为“U+0041”、“U+20AC”。

> 0x代表十六进制数字
>
> u+和\u代表unicode统一码
>
> \x代表utf-8编码



#### 字符编码

字符集只是规定了有哪些字符，而字符编码才是真正使用字符集的过程，就好比看一些近代历史背景的电视剧时，比如抗战、内战时期，传电报都是加密后的信息，收到电报要对照特定的密码本来破译信息。就相当于这里的字符集和字符编码的概念。

在 Unicode 出现之前，所有的字符集都是和具体编码方案绑定在一起的（即字符集≈编码方式），意思就是ASCII字符集也对应了一套固定的ASCII编码，比如查看ASCII码表，A就是65就是0100 0001。

但是Unicode之后，出现了不同的编码方式也就是不同的UTF。UTF是 Unicode Tranformation Format，也就是Unicode 的编码，包含UTF-8 UTF-16 UTF-32，没错就是我们现在最常见的utf-8。





说完了 位 字节 字

说完了 字符集 字符编码

要说回到Base64上了



## Base64

Base64就是一种基于64个可打印字符来表示二进制数据的方法。

Base64编码是从二进制到字符的过程。

可用于在HTTP环境下传递较长的标识信息。采用Base64编码具有不可读性，需要解码后才能阅读。

为什么是64，而不是Base32 Base128？

这个64是怎么来的，第一是根据转换规则中，取6位二进制为一组，2^6=64，第二，当初制定标准的时候，标准的Base64协议规定了一个索引表，选用了 A-Z、a-z、0-9、+、/这 64个可打印字符，所以称之为Base64。

那我们平常还可能在Base64的编码结果中看到=号是为什么呢？

这个=没有意义，是为了进行填充字符而出现。



上面说到，Base64编码是从二进制到字符的过程

##### 具体转换步骤：

第1步，先要拿到待转换字符串的字节码，也就是用二进制01格式表示的数据

第2步，将待转换的字符串每三个字节分为一组，每个字节占8bit，那么共有24个二进制位。

第3步，将上面的24个二进制位每6个一组，共分为4组。

第4步，在每组前面添加两个0，每组由6个变为8个二进制位，总共32个二进制位，即四个字节。

第5步，根据Base64编码对照表（见下图）获得对应的值。

0      A      17      R  　34      i  　51　z
1      B      18      S  　35      j  　52　0
2      C      19      T  　36      k  　53　1
3      D      20      U  　37      l  　54　2
4      E       21      V  　38      m    55　3
5      F       22     W      39      n     56　4
6      G      23      X  　40      o  　57　5
7      H      24      Y  　41      p  　58　6
8      I        25      Z  　42      q  　59　7
9      J        26      a  　43      r  　 60　8
10   K        27      b  　44      s  　61　9
11   L        28      c  　45      t  　 62　+
12   M      29      d  　46      u  　63　 /
13   N       30      e  　47      v
14   O       31      f  　48      w  　
15   P       32      g  　49      x
16   Q       33      h  　50      y



用一个例子，对照这上面所说的步骤，来看下到底Base64怎么转的

比如我们要把**hello**这个单词转成Base64

**第一步**：拿到字节码

对照ASCII码表

**h**  104   0110 1000

**e**  101   0110 0101

**l**   108   0110 1100

**l**   108   0110 1100

**o**  111   0110 1111



**第二步**，字符串每三个字节分为一组，理想状态下每组一共24位，不足24位的先不管

第一组  0110 1000    0110 0101    0110 1100

第二组  0110 1100    0110 1111 



**第三步**，将24位，每6位一组，分为4组

第一组    011010      000110      010101      101100

第二组    011011      000110      1111 

但是这里只有两个字节16位，不够分成4组了怎么办？

这时常见的=号就要出现了

首先，对不足6位的组进行补足0，然后对完全没有的用=号填充

所以第二组应该是  011011      000110      111100      =



**第四步**，在每小组前面补足0到8位

第一组    00011010      00000110      00010101      00101100

第二组    00011011      00000110      00111100      =



**第五步**，根据8位二进制对照ASCII转成码值

第一组    26      6      21      44

第二组    27      6      60      =



**第六步**，根据Base64编码对照索引表

第一组    a      G      V      s

第二组    b      G      8      =



最终得到 hello 的Base64编码结果  **aGVsbG8=**



找一个在线转码工具比对一下     https://c.runoob.com/front-end/693/

结果一致

到这里，我们就明白Base64是什么了。



拓展：为什么jpg格式图片Base64完都是/9j开头，https://www.ngui.cc/el/775244.html?action=onClick